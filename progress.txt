## Codebase Patterns

- Tailwind CSS 4.x requires @tailwindcss/postcss plugin (not the old tailwindcss plugin)
- Use "use client" directive for components with hooks (useState, useEffect)
- Custom colors defined in tailwind.config.ts: brand, success, urgent

---

## 2026-01-24 07:15 - US-001
- Implemented Next.js 14+ with App Router and TypeScript
- Configured Tailwind CSS with custom brand colors (brand, success, urgent)
- Created folder structure: /app, /components, /lib, /types
- Set up basic layout and home page
- Files created:
  - aerial-platform/package.json (with Next.js scripts)
  - aerial-platform/tsconfig.json
  - aerial-platform/tailwind.config.ts
  - aerial-platform/postcss.config.mjs
  - aerial-platform/next.config.ts
  - aerial-platform/app/layout.tsx
  - aerial-platform/app/page.tsx
  - aerial-platform/app/globals.css
  - aerial-platform/.gitignore
- **Learnings for future iterations:**
  - Next.js 16.1.4 automatically updates tsconfig.json on first dev run
  - Tailwind 4.x is being used (latest version)
  - Dev server starts on port 3000 by default
  - TypeScript strict mode is enabled
---
## 2026-01-24 07:18 - US-002
- Created aggressive marketing landing page with conversion-focused design
- Components built:
  - Hero: Bold headline "Get 5 Local Bids in 24 Hours" with dual-path CTAs
  - UrgencyBanner: Rotating urgency messages (5s interval)
  - SocialProof: Animated counter showing 10,000+ jobs completed
  - HowItWorks: Tabbed interface for client vs contractor workflows
- Files created:
  - aerial-platform/components/Hero.tsx
  - aerial-platform/components/SocialProof.tsx
  - aerial-platform/components/HowItWorks.tsx
  - aerial-platform/components/UrgencyBanner.tsx
- Files modified:
  - aerial-platform/app/page.tsx (integrated all marketing components)
  - aerial-platform/postcss.config.mjs (fixed for Tailwind 4.x)
  - aerial-platform/package.json (added @tailwindcss/postcss)
- **Learnings for future iterations:**
  - Tailwind CSS 4.x requires @tailwindcss/postcss instead of tailwindcss in PostCSS config
  - Client components need "use client" directive for React hooks
  - Animated counters use setInterval with cleanup in useEffect
  - Tab switchers use conditional rendering based on state
  - All components are fully responsive (mobile-first design)
  - Production build passes all checks
---
## 2026-01-24 07:23 - US-003
- Added comprehensive trust signals and conversion elements to landing page
- Components created:
  - Testimonials: Auto-rotating carousel (7s interval) with 5-star ratings and photos
  - FeaturedContractors: Grid of 4 top-rated contractors with stats
  - PressLogos: "As Seen In" section with 6 major publications
  - LiveActivityFeed: Bottom-right notification showing live platform activity (6s rotation)
  - StickyBottomCTA: Mobile-only sticky bar that appears after 300px scroll
  - ExitIntentPopup: Exit-intent modal offering $50 credit (triggers on mouse leave from top)
- Files created:
  - aerial-platform/components/Testimonials.tsx
  - aerial-platform/components/FeaturedContractors.tsx
  - aerial-platform/components/PressLogos.tsx
  - aerial-platform/components/LiveActivityFeed.tsx
  - aerial-platform/components/StickyBottomCTA.tsx
  - aerial-platform/components/ExitIntentPopup.tsx
- Files modified:
  - aerial-platform/app/page.tsx (integrated all trust signal components)
- **Learnings for future iterations:**
  - Exit-intent triggers use mouseleave event with clientY <= 0
  - Sticky CTAs use scroll event listeners with visibility threshold
  - Fixed positioning requires z-index management (z-40, z-50)
  - Mobile-only components use md:hidden class
  - Carousel indicators use transition-all for smooth width changes
  - All intervals properly cleaned up in useEffect return
---
## 2026-01-24 07:26 - US-004
- Set up Supabase backend infrastructure and environment configuration
- Installed @supabase/supabase-js client library
- Files created:
  - aerial-platform/.env.local.example (template with all required env vars)
  - aerial-platform/.env.local (placeholder values for development)
  - aerial-platform/lib/supabase.ts (Supabase client with connection test)
  - aerial-platform/SETUP.md (comprehensive setup guide for users)
- Files modified:
  - aerial-platform/package.json (added @supabase/supabase-js dependency)
- **Learnings for future iterations:**
  - Environment variables use NEXT_PUBLIC_ prefix for client-side access
  - Supabase client should validate env vars on initialization
  - Connection test uses .from('_test') to verify database access
  - .env.local is gitignored but .env.local.example is committed
  - SETUP.md provides step-by-step guide for new developers
  - All future service integrations (Mapbox, Stripe, etc.) have placeholders ready
---
## 2026-01-24 07:34 - US-005
- Created comprehensive database schema for user profiles with role-based access
- Files created:
  - aerial-platform/supabase/migrations/001_create_user_profiles.sql
  - aerial-platform/supabase/migrations/README.md
  - aerial-platform/types/database.ts (TypeScript types matching schema)
- Files modified:
  - aerial-platform/SETUP.md (added migration instructions)
- Database schema includes:
  - `profiles` table: Basic user info (id, email, role, timestamps)
  - `trade_profiles` table: Contractor-specific data (business_name, services, rating, etc.)
  - User role enum: 'client' | 'trade'
  - RLS policies: Users see only own data, clients can browse trade profiles
  - Indexes on email, role, zip_code, rating for performance
  - Triggers for auto-updating updated_at timestamps
- **Learnings for future iterations:**
  - Use CREATE TABLE IF NOT EXISTS for idempotent migrations
  - RLS policies require both table-level and row-level security
  - Indexes improve query performance on frequently filtered columns
  - auth.uid() function used in RLS policies to get current user
  - Triggers automatically update timestamps on row changes
  - TypeScript types should match database schema exactly
  - Services stored as TEXT[] array for flexibility
---
